# 润扬大桥运维文档管理系统 - 后端环境配置模板
# 复制此文件为 .env 并根据实际环境修改配置

# ===== 项目基本信息 =====
PROJECT_NAME=润扬大桥运维文档管理系统
VERSION=2.2.0
API_V1_STR=/api/v1
# 调试模式: true=开发环境, false=生产环境
DEBUG=false

# ===== 数据库配置 =====
# SQLite数据库文件路径
DATABASE_URL=sqlite:///./yunwei_docs.db
# 测试数据库（可选）
# TEST_DATABASE_URL=sqlite:///./test_yunwei_docs.db

# ===== 安全配置 =====
# JWT密钥 - 生产环境必须更换为随机密钥
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-in-production
# JWT算法
ALGORITHM=HS256
# JWT令牌过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ===== 文件上传配置 =====
UPLOAD_DIR=./uploads
# 最大文件大小（字节），默认10MB
MAX_FILE_SIZE=10485760
# 允许的文件扩展名
ALLOWED_EXTENSIONS=pdf,doc,docx,txt,md,xls,xlsx,csv,jpg,jpeg,png

# ===== 外部服务配置（可选） =====
# Redis配置
REDIS_URL=redis://localhost:6379
# Elasticsearch配置
ELASTICSEARCH_URL=http://localhost:9200

# ===== 服务器网络配置 =====
# 服务器绑定地址: 0.0.0.0=所有网卡, 127.0.0.1=仅本地
SERVER_HOST=0.0.0.0
# 后端服务端口
SERVER_PORT=8002

# ===== CORS配置 =====
# CORS配置模式选择：
# - auto: 自动检测本机IP + localhost（推荐开发环境）
# - manual: 仅使用手动指定的域名（推荐生产环境）
# - mixed: 自动检测IP + 手动指定域名（推荐测试环境）
CORS_MODE=auto

# 是否自动检测本机IP地址
CORS_AUTO_DETECT=true

# 是否包含localhost开发环境
CORS_INCLUDE_LOCALHOST=true

# 是否包含HTTPS变体
CORS_INCLUDE_HTTPS=true

# 手动配置的CORS源（逗号分隔）
# 开发环境示例: 留空或注释掉
# 生产环境示例: https://docs.runyang.com,https://admin.runyang.com
# 测试环境示例: https://test.runyang.com,http://192.168.1.100:5173
CORS_CUSTOM_ORIGINS=

# 前端服务端口
CORS_FRONTEND_PORT=5173

# 额外支持的端口（逗号分隔）
CORS_EXTRA_PORTS=3000,8080,9000

# ===== 快速配置示例 =====
# 开发环境配置：
# DEBUG=true
# CORS_MODE=auto
# CORS_AUTO_DETECT=true
# CORS_INCLUDE_LOCALHOST=true
# CORS_CUSTOM_ORIGINS=
#
# 生产环境配置：
# DEBUG=false
# CORS_MODE=manual
# CORS_AUTO_DETECT=false
# CORS_INCLUDE_LOCALHOST=false
# CORS_CUSTOM_ORIGINS=https://docs.runyang.com,https://admin.runyang.com
#
# 测试环境配置：
# DEBUG=false
# CORS_MODE=mixed
# CORS_AUTO_DETECT=true
# CORS_INCLUDE_LOCALHOST=false
# CORS_CUSTOM_ORIGINS=https://test.runyang.com

# ===== 功能开关 =====
# 是否启用内容提取功能
ENABLE_CONTENT_EXTRACTION=true
# 是否启用AI分析功能
ENABLE_AI_ANALYSIS=false
# 是否启用搜索功能
ENABLE_SEARCH=true
# 是否启用用户统计
ENABLE_USER_ANALYTICS=true

# ===== 日志配置 =====
# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# 日志文件路径
LOG_FILE=./logs/app.log
# 是否输出到控制台
LOG_TO_CONSOLE=true

# ===== 性能配置 =====
# 工作进程数（0=自动检测）
WORKERS=0
# 是否启用热重载（仅开发环境）
RELOAD=false
# 请求超时时间（秒）
REQUEST_TIMEOUT=30

# ===== 部署环境标识 =====
# 部署环境: development/staging/production
DEPLOY_ENV=production
# 部署服务器标识
DEPLOY_SERVER=auto-detect

# ===== 监控配置（可选） =====
# 是否启用性能监控
ENABLE_MONITORING=false
# 监控数据存储路径
MONITORING_DATA_PATH=./monitoring

# ===== 自定义配置 =====
# 系统管理员邮箱
ADMIN_EMAIL=admin@runyang.com
# 系统通知配置
ENABLE_NOTIFICATIONS=false
# 邮件服务配置（可选）
# SMTP_SERVER=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@example.com
# SMTP_PASSWORD=your-password